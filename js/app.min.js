System.register("ts/model/Card",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){}}}),System.register("ts/data/CardExample",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){t("CardExample",class{get(){return{title:"Lorem Ipsum",content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce sit amet nulla sit amet lacus euismod sagittis. Praesent dapibus convallis elit, quis pretium ante efficitur at. Morbi quis elementum nisi. Aliquam tempor porttitor lacus, ac ornare metus tristique vel. Vivamus a sapien dolor. Cras laoreet nisl vitae pulvinar pulvinar. Suspendisse at maximus ante. Aenean porta tempor dolor, sed convallis ex pellentesque vel. Fusce in venenatis velit, ac blandit urna. Morbi ac luctus est, consectetur luctus tellus.",img:"img/post-example.jpg"}}})}}}),System.register("ts/data/index",["ts/data/CardExample"],function(t,e){"use strict";e&&e.id;return{setters:[function(e){!function(e){var n={};for(var i in e)"default"!==i&&(n[i]=e[i]);t(n)}(e)}],execute:function(){}}}),System.register("ts/view/View",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){t("View",class{constructor(t){this._element=$(t)}updateList(t){let e=this.template(t);this._element.html(e+this._element.html())}})}}}),System.register("ts/model/index",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){}}}),System.register("ts/view/CardView",["ts/view/index"],function(t,e){"use strict";var n;e&&e.id;return{setters:[function(t){n=t}],execute:function(){t("CardView",class extends n.View{template(t){return`\n            <div class="card-container">\n                <div class="card-header">\n                    <div class="card-image">\n                        <img src="${t.img}" id="post-background">\n                        <label for="btn-upload-img" id="label-upload" title="Change background image">\n                            Change\n                        </label>\n                        <input type="file" id="btn-upload-img" name="upload" accept="image/png, image/jpeg">\n                        <img src="img/logo.png" id="autologo">\n                    </div>\n                </div>\n                <div class="card-title" contentEditable="true">${t.title}</div>\n                <div class="card-body" contentEditable="true">${t.content}</div>\n            </div>\n        `}})}}}),System.register("ts/view/index",["ts/view/View","ts/view/CardView"],function(t,e){"use strict";e&&e.id;function n(e){var n={};for(var i in e)"default"!==i&&(n[i]=e[i]);t(n)}return{setters:[function(t){n(t)},function(t){n(t)}],execute:function(){}}}),System.register("ts/controller/CardController",["ts/view/index"],function(t,e){"use strict";var n;e&&e.id;return{setters:[function(t){n=t}],execute:function(){t("CardController",class{add(t){new n.CardView("#card-view").updateList(t)}})}}}),System.register("ts/controller/index",["ts/controller/CardController"],function(t,e){"use strict";e&&e.id;return{setters:[function(e){!function(e){var n={};for(var i in e)"default"!==i&&(n[i]=e[i]);t(n)}(e)}],execute:function(){}}}),System.register("ts/util/DownloadUtil",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){t("DownloadUtil",class{constructor(){throw"Not instanciable"}static getTitleAsTimestamp(t){const e=new Date,n=t=>t<10?"0"+t:t;return`${n(e.getUTCFullYear())}-`+`${n(e.getMonth()+1)}-`+`${n(e.getDate())}-`+`${n(e.getHours())}`+`${n(e.getMinutes())}`+`${n(e.getSeconds())}`+`-post.${t}`}})}}}),System.register("ts/util/index",["ts/util/DownloadUtil"],function(t,e){"use strict";e&&e.id;return{setters:[function(e){!function(e){var n={};for(var i in e)"default"!==i&&(n[i]=e[i]);t(n)}(e)}],execute:function(){}}}),System.register("ts/events/UploadEvent",[],function(t,e){"use strict";e&&e.id;return{setters:[],execute:function(){t("UploadEvent",class{upload(){const t=document.querySelector("#btn-upload-img");let e;if(t.files&&(e=t.files[0])){const t=new FileReader;t.onload=(t=>{t&&t.target&&$("#post-background").attr("src",t.target.result)}),t.readAsDataURL(e)}}static removeLabelButton(){const t=$("#label-upload");t&&t.remove()}static addLabelButton(){const t=$(".card-image");t&&t.append('<label for="btn-upload-img" id="label-upload" title="Change background image">\n                    Change\n                </label>\n                ')}})}}}),System.register("ts/events/DownloadEvent",["ts/util/index","ts/events/UploadEvent"],function(t,e){"use strict";var n,i;e&&e.id;return{setters:[function(t){n=t},function(t){i=t}],execute:function(){t("DownloadEvent",class{download(){const t=document.querySelector(".card-container");t.querySelector("label-upload");i.UploadEvent.removeLabelButton(),html2canvas(t).then(t=>{const e=t.toDataURL("image/png",1).replace(/^contentType/,"data:application/octet-stream");$("#download-link").attr("download",n.DownloadUtil.getTitleAsTimestamp("png")).attr("href",e),$("#download-link")[0].click()}),i.UploadEvent.addLabelButton()}})}}}),System.register("ts/events/index",["ts/events/DownloadEvent","ts/events/UploadEvent"],function(t,e){"use strict";e&&e.id;function n(e){var n={};for(var i in e)"default"!==i&&(n[i]=e[i]);t(n)}return{setters:[function(t){n(t)},function(t){n(t)}],execute:function(){}}}),System.register("ts/app",["ts/data/index","ts/controller/index","ts/events/index"],function(t,e){"use strict";var n,i,s;e&&e.id;return{setters:[function(t){n=t},function(t){i=t},function(t){s=t}],execute:function(){t("App",class{start(){this.loadExample(),this.downloadPost(),this.uploadBackground()}loadExample(){let t=new n.CardExample;(new i.CardController).add(t.get())}downloadPost(){let t=new s.DownloadEvent;$("#download").on("click",t.download)}uploadBackground(){let t=new s.UploadEvent;$("#btn-upload-img").on("change",t.upload)}})}}});